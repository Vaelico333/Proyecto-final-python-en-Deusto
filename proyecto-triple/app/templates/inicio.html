{% extends "base.html" %}
{% block content %}
    <h1 id="inicio">Proyecto final del curso de python con Deusto</h1>
        <div class="bloque_contenido">
        <h2 id="building_construction-estructura-del-proyecto">üèóÔ∏è Estructura del proyecto</h2>
        App en Flask para contener y mostrar el proyecto:
            <ul>
                <li><a href="#p√°gina-de-bienvenida">P√°gina de bienvenida</a></li>
                <li><a href="#proyecto-agenda">Proyecto agenda</a></li>
                <li><a href="#proyecto-usuarios">Proyecto usuarios</a></li>
                <li><a href="#proyecto-an√°lisis">Proyecto an√°lisis</a></li>
            </ul>
        </div>
        <div id="resumen">
        <h2>üóíÔ∏è Resumen y abstract</h2>
        <p>En esta secci√≥n, explicar√© mis razones para hacer el proyecto as√≠ y resumir√© mi proceso.</p>
        <div class="bloque_contenido">
            <h3>Abstract</h3>
            <p>Durante mi curso de python en Deusto, se me propusieron 3 opciones sencillas, pero he decidido hacer una mezcla de las 3, ya que ser√° m√°s 
                interesante.</p>
            <p>
                Yo he orientado mi crecimiento profesional hacia el an√°lisis de datos, la ciencia de datos y el <em>machine learning.</em> 
                Pero recientemente, en parte durante el curso y en parte por mi cuenta, he descubierto lo interesante y divertido que es crear aplicaciones 
                con una l√≥gica 
                compleja que otorguen soluciones de manera sencilla: esto es, programas con interfaz de usuario.
            </p>
            <p>
                Python es un lenguaje maravilloso que adem√°s tiene mucho desarrollo detr√°s, y existen much√≠simos m√≥dulos distintos para hacer miles de tareas
                 distintas con facilidad. 
                Sin embargo, a nivel de interfaz de usuario, muchas veces deja que desear o requiere mucho trabajo. 
                Por eso me he interesado en aprender Flask y desarrollar una aplicaci√≥n compleja, y que desarrolle tareas medianamente complicadas en el 
                backend. 
            </p>
            <p>
                Quiero, el d√≠a de ma√±ana, si lo necesito, poder desarrollar una aplicaci√≥n que no s√≥lo sea backend, sino que tenga un frontend decente como 
                m√≠nimo. 
                He jugado con PyQt5 y tengo pendiente continuar, aunque es bastante complejo, pero con ese m√≥dulo s√≠ que podr√≠a crear aplicaciones que luego 
                pueda convertir en un .exe y vender o regalar.
                De todas formas, todo el trabajo de conexi√≥n, construcci√≥n y cohesi√≥n de la web me ha ense√±ado mucho.
            </p>
        </div>
        <div class="bloque_contenido">
            <h3>Resumen del proceso</h3>
            <p>
                En un primer lugar, vi los proyectos y me parecieron muy sencillos: dos de ellos, men√∫ infinito y funciones sencillas CRUD o an√°lisis de datos
                 y exposici√≥n de una gr√°fica.
                Sin interfaz, usando almacenamiento de datos simple... Y luego, el otro proyecto, una interfaz de usuario con gesti√≥n de usuarios. Entonces se 
                me ocurri√≥:
                ¬øpor qu√© no juntar los tres proyectos en uno?</p>
            <p>
                Comenc√© aprendiendo m√°s de Flask, ya que lo hab√≠a usado muy poco hasta el momento, y encontr√© un 
                <a href="https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world">tutorial de Flask</a>
                que fui siguiendo paso a paso. Con √©l, cre√© una primera p√°gina de ejemplo que tuviera las claves que pod√≠a yo necesitar para despu√©s construir 
                este proyecto.
                Con el bueno de Miguel aprend√≠ a crear formularios, a conectarlos, a crear los modelos pertinentes (<em>User, Contact</em>) y utilizarlos, y a unir las 
                plantillas con las funciones de <code>routes.py</code>.</p>
            <p>Entonces estructur√© mi proyecto: el an√°lisis de datos ir√≠a por un lado, y luego los usuarios y la agenda estar√≠an conectados. No sab√≠a si 
                podr√≠a hacerlo como yo quer√≠a, pero me puse a trabajar.</p>
            <p>
                Lo primero que hice, para ahorrar tiempo y seguir aprendiendo, ya que a√∫n estaba un poco perdido, fue usar Github Copilot para crear una 
                estructura de archivos funcional. Us√© GPT - 5.
                Yo ya sab√≠a que iba a estar lleno de errores, pero me dar√≠a un buen punto de partida y algo sobre lo que trabajar. Crear todas las carpetas y 
                archivos desde 0 me parec√≠a muy dif√≠cil o muy largo de hacer, dada mi poca esperiencia con Flask.
            </p>
            <p>
                Y efectivamente, lo que cre√≥ la IA era un desastre, pero me sirvi√≥ de punto de partida. Tras mucho debugging, cre√© una arquitectura en la que 
                hay una carpeta general de plantillas,
                y dentro de ella, carpetas individuales para cada parte de la p√°gina (<em>usuarios, agenda  y an√°lisis</em>).
            </p>
            <p>
                Luego, para la p√°gina principal existe un  <code>__init__.py</code>  propio que inicializa la app y registra las blueprints de cada uno de los 3 
                proyectos, un  <code>models.py</code>  que contiene la clase  <em>User</em>  y un  <code>routes.py</code>  que renderiza esta p√°gina.
            </p>
            <p>
                Cada proyecto recibe luego su propia carpeta con su  <code>__init__.py</code>, donde se crea la blueprint correspondiente.
                All√≠ tambi√©n se encuentra el archivo  <code>routes.py</code>, que gestiona la l√≥gica backend y el renderizado de las plantillas.
                Dado que las funcionalidades de la parte de usuarios y la de agenda son similares en origen, su estructura es similar aunque luego var√≠e a nivel de detalle.
                Sin embargo, la estructura de la parte de an√°lisis es m√°s compleja a nivel de programaci√≥n estructurada:
            </p>
            <ul>
                <li><strong>An√°lisis</strong> presenta una p√°gina de inicio, donde se dan dos opciones y una explicaci√≥n de cada una: 
                    mostrar el an√°lisis por d√≠as de la semana y provincia (gr√°fica de barras), o s√≥lo por provincia (gr√°fica circular). 
                    <br>Ambas p√°ginas son similares, y muestran un formulario de selecci√≥n de opciones (defunciones, casos, hospitalizados y UCI)
                    y dos botones: Mostrar todo y Mostrar top 10. 
                    <br>Al pulsar Mostrar todo, se crear√° y mostrar√° una gr√°fica con las 52 provincias 
                    y un breve comentario debajo sobre la provincia con el n√∫mero m√°s alto y m√°s bajo.
                    <br>Al pulsar Mostrar top 10, se crear√° y mostrar√° una gr√°fica con las 10 provincias con los n√∫meros m√°s altos y un breve 
                    comentario debajo sobre la provincia con el n√∫mero m√°s alto y m√°s bajo. 
                    <br>La carpeta contiene: 
                    <ul>
                        <li><code>__init__.py</code>, para guardar y exportar la blueprint</li> 
                        <li><code>forms.py</code>, que crea el formulario de selecci√≥n de datos a analizar</li>
                        <li><code>routes.py</code>, que genera y renderiza las p√°ginas <code>analisis/index.html</code>, <code>analisis/bar.html</code> y <code>analisis/pie.html</code></li> 
                        <li><code>services.py</code>, que porta la l√≥gica que gestiona, manipula y analiza los datos, y crea las gr√°ficas en tiempo real</li>               
                    </ul>
                </li><br>
                <li><strong>Agenda</strong> presenta una p√°gina de bienvenida (requiere login) al gestor de contactos, donde se muestran 3 botones: Nuevo contacto, Ver lista de contactos y Buscar contacto.
                    <br>Nuevo contacto nos lleva a una p√°gina con un formulario donde podremos introducir email, nombre y n√∫mero de tel√©fono del contacto a crear. 
                    Se crear√° como propiedad del usuario que est√© conectado. En la parte inferior, un enlace nos permite volver a la bienvenida de la agenda.
                    <br>Ver lista de contactos nos lleva a una p√°gina donde se muestra una tabla que recoge todos los contactos pertenecientes al usuario actual.
                    Si el usuario es administrador (usuario con ID 1), podr√° ver los contactos creados por todos los usuarios, y el email del propietario de cada contacto.
                    La tabla muestra el nombre del contacto, tel√©fono, email, propietario (si eres admin) y acciones, que incluye 3 botones que llevan a editar el contacto, ver el contacto en detalle y eliminar contacto.
                    <br>Buscar contacto nos lleva a una p√°gina con un formulario sencillo para hacer una b√∫squeda por nombre.
                    <br>La carpeta contiene: 
                    <ul>
                        <li><code>__init__.py</code>, para guardar y exportar la blueprint</li>
                        <li><code>forms.py</code>, que crea los formularios de creaci√≥n y b√∫squeda de contactos</li>
                        <li><code>routes.py</code>, que genera y renderiza las p√°ginas <code>agenda.html</code>, <code>agenda/buscar.html</code>, <code>agenda/editar.html</code>, <code>agenda/lista.html</code>, <code>agenda/ver_contacto.html</code> y <code>agenda/crear.html</code></li> 
                        <li><code>models.py</code>, que crea la clase Contact, la cual contiene todos los atributos de un contacto de la agenda y el nombre de la tabla de la base de datos en la que se guardar√°</li>
                    </ul>
                </li><br>
                <li><strong>Usuarios</strong> es diferente, ya que s√≥lo el admin puede acceder al panel de gesti√≥n de usuarios. Los usuarios comunes podr√° crear su perfil, 
                    usarlo para acceder a la agenda y cerrar sesi√≥n.
                    <br>Estando desconectado, al pulsar Acceder en la parte superior de la p√°gina, se mostrar√° la p√°gina de login, donde se pide email y contrase√±a. 
                    Tambi√©n se mostrar√° al intentar acceder a la agenda, ya que se necesita estar logueado para interactuar con √©sta.
                    <br>Si no se tiene un usuario a√∫n, se podr√° crear uno desde el enlace al pie de la p√°gina de login. 
                    Se pedir√° email, nombre, apellidos, tel√©fono, edad y dos veces la contrase√±a para reducir errores al escribirla.
                    Todos estos datos se validan en formulario de acuerdo a su tipo mediante wtforms. Una vez creado el usuario, se redirige a login.
                    <br>Una vez iniciada la sesi√≥n en la p√°gina, se podr√° acceder a la agenda. Si el usuario es el administrador, podr√° acceder al panel de gesti√≥n de usuarios.
                    <br>Al acceder como admin, se redirigir√° al panel de gesti√≥n de usuarios. Este consiste en un bot√≥n para crear nuevos usuarios, y una tabla que contiene
                    todos los datos de cada usuario existente en la base de datos, excepto la contrase√±a. Tambi√©n hay dos opciones disponibles para cada usuario: editar y borrar.
                    Ambas opciones piden confirmaci√≥n.
                    <br>La carpeta contiene: 
                    <ul>
                        <li><code>__init__.py</code>, para guardar y exportar la blueprint</li> 
                        <li><code>forms.py</code>, que crea los formularios de creaci√≥n, edici√≥n, login, borrado y comprobaci√≥n de contrase√±a</li>
                        <li><code>routes.py</code>, que genera y renderiza las p√°ginas <code>usuarios/tabla.html</code>, <code>usuarios/borrar.html</code>, <code>usuarios/confirmar_contrase√±a.html</code>, <code>usuarios/crear.html</code>, <code>usuarios/editar.html</code> y <code>usuarios/login.html</code></li>
                    </ul>
                </li>
            </ul>
            <p>
                A nivel de plantillas, todas est√°n recogidas en <code>app/templates</code>, separando las plantillas de cada proyecto en su carpeta correspondiente. 
                Para dar un aspecto generalmente uniforme y crear una barra de navegaci√≥n superior, adem√°s de incluir el nombre del proyecto (que es un enlace que lleva al inicio),
                cre√© una plantilla base llamada <code>base.html</code>, la cual utilizan todas las p√°ginas como marco, e incluye t√≠tulo, cabecera, navegaci√≥n, mensajes flash si existen, y pie de p√°gina.
            </p>
            <p><a href="#inicio">‚¨ÜÔ∏è</a></p>
        </div>
        </div>

        <div id="desglose">
        <h2>üóÉÔ∏è Esquema</h2>
        <p>Veamos en qu√© consiste cada parte.</p>
        <div class="bloque_contenido" id="bienvenida">
            <h3 id="wave-p√°gina-de-bienvenida">üëã P√°gina de bienvenida</h3>
                <p>P√°gina en Flask con los siguientes atributos:</p>
                    <ul>
                    <li>Estructura del proyecto</li>
                    <li>Abstract y resumen</li>
                    <li>Desglose de los 3 proyectos</li>
                    </ul>
                <p><a href="#inicio">‚¨ÜÔ∏è</a></p>
        </div>
        <div class="bloque_contenido">
            <h3 id="proyecto-agenda">üìá Proyecto agenda</h3>
                <p>Se trata de un gestor de contactos con la capacidad de realizar las operaciones CRUD sobre 3 atributos: nombre, N¬∫ de tel√©fono y email.
                <br><strong>Contenido</strong>:  </p>
                        <ul>
                            <li>üõ°Ô∏èAgregar contacto</li>
                            <li>üõ°Ô∏èBuscar un contacto</li>
                            <li>üõ°Ô∏èEditar contacto</li>
                            <li>üõ°Ô∏èEliminar contacto</li>
                            <li>üõ°Ô∏èMostrar todos</li>
                        </ul>
                <p><strong>Observaciones</strong>:</p>
                    <ul>
                        <li>Pide login. Mostrar a cada usuario su propia agenda.</li>
                        <li>Buscar contacto: formulario que redirige a una p√°gina que muestra los resultados.</li>
                        <li>Mostrar todos: muestra los del usuario actual, o todos si es admin.</li>
                        <li>Almacenamiento: tabla en SQLite3.</li>
                    </ul>
                <p><a href="#inicio">‚¨ÜÔ∏è</a></p>
            </div>
            <div class="bloque_contenido">
            <h3 id="proyecto-usuarios">üßë‚Äçü¶≤ Proyecto usuarios</h3>
                <p>Se trata de un panel de administraci√≥n de usuarios. 
                <br><strong>Contenido</strong>:</p>
                    <ul>
                    <li>üö´P√°gina de gesti√≥n de los usuarios
                    </li>
                    <li>üö´P√°gina con formulario de edici√≥n 
                    <li>P√°gina con formulario de creaci√≥n: 
                        <ul>
                            <li>Email: validado por wtforms.validators.Email</li>
                            <li>Nombre</li>
                            <li>Apellidos</li>
                            <li>Contrase√±a: codificada por werkzeug.security en forma de hash antes de guardarla.</li>
                            <li>Confirmar contrase√±a: debe coincidir con la contrase√±a.</li>
                            <li>Tel√©fono: n√∫mero de 9 cifras</li>
                            <li>Edad: n√∫mero entre 0 y 999</li>
                        </ul>
                    </li>
                    <li>üö´P√°gina con formulario de borrado</li>
                    </ul>
                <p><strong>Observaciones</strong>:</p>
                    <ul>
                        <li>√Årbol de p√°ginas web interconectadas</li>
                        <li>Almacenamiento: tabla en SQLite.</li>
                    </ul>
                <p><a href="#inicio">‚¨ÜÔ∏è</a></p>
            </div>
            <div class="bloque_contenido">
            <h3 id="bar_chart-proyecto-an√°lisis">üìä Proyecto an√°lisis</h3>
                <p>Se trata de un dashboard de an√°lisis de datos procedentes de un archivo csv proporcionado por la escuela.
                <br><strong>Contenido</strong>:</p>
                <ul>
                    <li>P√°gina de bienvenida  
                        <ul>
                            <li>Enlaces de acceso a las otras dos p√°ginas</li>
                        </ul>
                    </li>
                    <li>P√°gina 1 con un men√∫ que permita elegir defunciones, casos, hospitalizados o UCI y mostrarlo como una gr√°fica de barras en la p√°gina.</li>
                    <li>P√°gina 2 con un men√∫ que permita elegir defunciones, casos, hospitalizados o UCI y mostrarlo como una gr√°fica circular en la p√°gina.</li>
                </ul>
                <p><strong>Observaciones</strong>:</p>
                <ul>
                    <li>Almacenamiento: fichero .txt con formato interno JSON.</li>
                    <li>Agrupar datos por d√≠a de la semana y provincias.</li>
                    <li>P√°gina 1: men√∫ de botones con un cuadro debajo que muestre la gr√°fica correspondiente. Mostrar ocurrencias por d√≠a de la semana.</li>
                    <li>P√°gina 2: men√∫ de botones con un cuadro debajo que muestre la gr√°fica correspondiente. Mostrar gr√°fica circular con desglose por provincias.</li>
                </ul>
                <p><a href="#inicio">‚¨ÜÔ∏è</a></p>
            </div>
            </div>
{% endblock %}